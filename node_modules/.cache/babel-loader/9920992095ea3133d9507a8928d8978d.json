{"ast":null,"code":"var _jsxFileName = \"C:\\\\Studia\\\\React\\\\XD\\\\React_Project\\\\src\\\\js\\\\Booking.js\";\nimport React from 'react';\nimport { withRouter } from \"react-router-dom\";\nimport Details from './Details';\nimport '../css/Booking.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nclass Booking extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.element = value => {\n      return React.createElement(\"div\", {\n        classNameName: \"Element\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 23\n        },\n        __self: this\n      }, React.createElement(\"text\", {\n        style: {\n          marginLeft: \"1%\",\n          textAlign: \"left\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 24\n        },\n        __self: this\n      }, value));\n    };\n\n    this.buttonHandler = () => {\n      this.setState(prevState => ({\n        showDetails: !prevState.showDetails\n      }));\n      this.loadDetails();\n    };\n\n    props.booking.start_date = new Date(props.booking.start_date);\n    this.state = {\n      showDetails: false,\n      detailsLoaded: false,\n      detailsLoading: false,\n      details: null\n    };\n    this.buttonHandler = this.buttonHandler.bind(this);\n    this.loadDetails = this.loadDetails.bind(this);\n  }\n\n  loadDetails() {\n    if (this.state.detailsLoaded) {\n      return;\n    }\n\n    this.setState({\n      detailsLoading: true\n    }); //console.log(this.props.booking.type)\n\n    fetch(`http://localhost:3004/${this.props.booking.type}/${this.props.booking.item_id}`).then(response => response.json()).then(data => this.setState({\n      details: data\n    })).then(() => this.setState({\n      detailsLoading: false,\n      detailsLoaded: true\n    }));\n  }\n\n  render() {\n    const booking = this.props.booking; // const myButton = (\n    //   <button onClick={this.buttonHandler}>XD</button>\n    // )\n\n    const preDetails = this.state.detailsLoading ? React.createElement(\"div\", {\n      style: {\n        marginTop: \"0.5%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, \"Loading details...\") : React.createElement(Details, {\n      data: this.state.details,\n      itemType: booking.type,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    });\n    return React.createElement(\"div\", {\n      className: \"card bg-light text-dark\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card-header\",\n      onClick: this.buttonHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, this.element(booking.booking_id)), React.createElement(\"div\", {\n      className: \"col-md-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, this.element(booking.user_id)), React.createElement(\"div\", {\n      className: \"col-md-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, this.element(booking.username)), React.createElement(\"div\", {\n      className: \"col-md-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, this.element(booking.item_id)))), React.createElement(\"div\", {\n      className: \"col-md-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, this.element(booking.type)), React.createElement(\"div\", {\n      className: \"col-md-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, this.element(booking.item_info)), React.createElement(\"div\", {\n      className: \"col-md-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, this.element(booking.active.toString())), React.createElement(\"div\", {\n      className: \"col-md-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, this.element(`${booking.start_date.getDate()} \n                    ${booking.start_date.getMonth() + 1} ${booking.start_date.getFullYear()}`)))))), this.state.showDetails && preDetails);\n  }\n\n}\n\nexport default withRouter(Booking); // {this.element(booking.booking_id)}\n// {this.element(booking.user_id)}\n// {this.element(booking.username)}\n// {this.element(booking.item_id)}\n// {this.element(booking.type)}\n// {this.element(booking.item_info)}\n// {this.element(booking.active.toString())}\n// {this.element(`${booking.start_date.getDate()} \n//   ${booking.start_date.getMonth() + 1} ${booking.start_date.getFullYear()}`)}","map":{"version":3,"sources":["C:/Studia/React/XD/React_Project/src/js/Booking.js"],"names":["React","withRouter","Details","Booking","Component","constructor","props","element","value","marginLeft","textAlign","buttonHandler","setState","prevState","showDetails","loadDetails","booking","start_date","Date","state","detailsLoaded","detailsLoading","details","bind","fetch","type","item_id","then","response","json","data","render","preDetails","marginTop","booking_id","user_id","username","item_info","active","toString","getDate","getMonth","getFullYear"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { withRouter } from \"react-router-dom\";\r\nimport Details from './Details'\r\nimport '../css/Booking.css';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nclass Booking extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    props.booking.start_date = new Date(props.booking.start_date);\r\n    this.state = {\r\n      showDetails: false,\r\n      detailsLoaded: false,\r\n      detailsLoading: false,\r\n      details: null\r\n    }\r\n    this.buttonHandler = this.buttonHandler.bind(this)\r\n    this.loadDetails = this.loadDetails.bind(this)\r\n  }\r\n\r\n  element = (value) => {\r\n    return (\r\n      <div classNameName=\"Element\">\r\n        <text style={{ marginLeft: \"1%\", textAlign: \"left\" }}>{value}</text>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  buttonHandler = () => {\r\n    this.setState(prevState => ({\r\n      showDetails: !prevState.showDetails\r\n    }))\r\n    this.loadDetails();\r\n  }\r\n\r\n  loadDetails() {\r\n    if (this.state.detailsLoaded) {\r\n      return;\r\n    }\r\n    this.setState({\r\n      detailsLoading: true\r\n    });\r\n    //console.log(this.props.booking.type)\r\n    fetch(`http://localhost:3004/${this.props.booking.type}/${this.props.booking.item_id}`)\r\n      .then(response => response.json())\r\n      .then(data => this.setState({ details: data }))\r\n      .then(() => this.setState({ detailsLoading: false, detailsLoaded: true }));\r\n  }\r\n\r\n  render() {\r\n    const { booking } = this.props\r\n\r\n    // const myButton = (\r\n    //   <button onClick={this.buttonHandler}>XD</button>\r\n    // )\r\n\r\n    const preDetails = (\r\n      this.state.detailsLoading \r\n      ? <div style={{ marginTop: \"0.5%\" }}>Loading details...</div> \r\n      : <Details data={this.state.details} itemType={booking.type} />\r\n    )\r\n\r\n    return (\r\n      <div className=\"card bg-light text-dark\">\r\n        <div className=\"card-header\" onClick={this.buttonHandler}>\r\n          <div className=\"row\">\r\n            <div className=\"col-md-6\">\r\n              <div className=\"row\">\r\n                <div className=\"col-md-3\">\r\n                  {this.element(booking.booking_id)}\r\n                </div>\r\n                <div className=\"col-md-3\">\r\n                  {this.element(booking.user_id)}\r\n                </div>\r\n                <div className=\"col-md-3\">\r\n                  {this.element(booking.username)}\r\n                </div>\r\n                <div className=\"col-md-3\">\r\n                  {this.element(booking.item_id)}\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-md-6\">\r\n              <div className=\"row\">\r\n                <div className=\"col-md-3\">\r\n                  {this.element(booking.type)}\r\n                </div>\r\n                <div className=\"col-md-3\">\r\n                  {this.element(booking.item_info)}\r\n                </div>\r\n                <div className=\"col-md-3\">\r\n                  {this.element(booking.active.toString())}\r\n                </div>\r\n                <div className=\"col-md-3\">\r\n                  {this.element(`${booking.start_date.getDate()} \r\n                    ${booking.start_date.getMonth() + 1} ${booking.start_date.getFullYear()}`)}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        {this.state.showDetails && preDetails}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(Booking)\r\n\r\n// {this.element(booking.booking_id)}\r\n// {this.element(booking.user_id)}\r\n// {this.element(booking.username)}\r\n// {this.element(booking.item_id)}\r\n// {this.element(booking.type)}\r\n// {this.element(booking.item_info)}\r\n// {this.element(booking.active.toString())}\r\n// {this.element(`${booking.start_date.getDate()} \r\n//   ${booking.start_date.getMonth() + 1} ${booking.start_date.getFullYear()}`)}"]},"metadata":{},"sourceType":"module"}