{"ast":null,"code":"var _jsxFileName = \"C:\\\\Studia\\\\React\\\\XD\\\\React_Project\\\\src\\\\js\\\\Booking.js\";\nimport React from 'react';\nimport { withRouter } from \"react-router-dom\";\nimport Details from './Details';\nimport '../css/Booking.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nclass Booking extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.buttonHandler = () => {\n      this.setState(prevState => ({\n        showDetails: !prevState.showDetails\n      }));\n      this.loadDetails();\n    };\n\n    props.booking.start_date = new Date(props.booking.start_date);\n    this.state = {\n      showDetails: false,\n      detailsLoaded: false,\n      detailsLoading: false,\n      details: null\n    };\n    this.buttonHandler = this.buttonHandler.bind(this);\n    this.loadDetails = this.loadDetails.bind(this);\n  }\n\n  loadDetails() {\n    if (this.state.detailsLoaded) {\n      return;\n    }\n\n    this.setState({\n      detailsLoading: true\n    }); //console.log(this.props.booking.type)\n\n    fetch(`http://localhost:3004/${this.props.booking.type}/${this.props.booking.item_id}`).then(response => response.json()).then(data => this.setState({\n      details: data\n    })).then(() => this.setState({\n      detailsLoading: false,\n      detailsLoaded: true\n    }));\n  }\n\n  render() {\n    const booking = this.props.booking; // const myButton = (\n    //   <button onClick={this.buttonHandler}>XD</button>\n    // )\n\n    const preDetails = this.state.detailsLoading ? React.createElement(\"div\", {\n      style: {\n        margin: \"1%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"spinner-border text-dark\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    })) : React.createElement(Details, {\n      data: this.state.details,\n      itemType: booking.type,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    });\n    return React.createElement(\"div\", {\n      className: \"card cardxd bg-light text-dark\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card-header cardClickable\",\n      onClick: this.buttonHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-3 text-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, booking.id), React.createElement(\"div\", {\n      className: \"col-md-3 text-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, booking.owner), React.createElement(\"div\", {\n      className: \"col-md-3 text-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, booking.username), React.createElement(\"div\", {\n      className: \"col-md-3 text-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, booking.itemId))), React.createElement(\"div\", {\n      className: \"col-md-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-3 text-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, booking.itemType), React.createElement(\"div\", {\n      className: \"col-md-3 text-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, booking.details), React.createElement(\"div\", {\n      className: \"col-md-3 text-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, booking.active.toString()), React.createElement(\"div\", {\n      className: \"col-md-3 text-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, booking.startDateTime.getDate()))))), this.state.showDetails && preDetails);\n  }\n\n}\n\nexport default withRouter(Booking); // {this.element(booking.booking_id)}\n// {this.element(booking.user_id)}\n// {this.element(booking.username)}\n// {this.element(booking.item_id)}\n// {this.element(booking.type)}\n// {this.element(booking.item_info)}\n// {this.element(booking.active.toString())}\n// {this.element(`${booking.start_date.getDate()} \n//   ${booking.start_date.getMonth() + 1} ${booking.start_date.getFullYear()}`)}","map":{"version":3,"sources":["C:/Studia/React/XD/React_Project/src/js/Booking.js"],"names":["React","withRouter","Details","Booking","Component","constructor","props","buttonHandler","setState","prevState","showDetails","loadDetails","booking","start_date","Date","state","detailsLoaded","detailsLoading","details","bind","fetch","type","item_id","then","response","json","data","render","preDetails","margin","id","owner","username","itemId","itemType","active","toString","startDateTime","getDate"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { withRouter } from \"react-router-dom\";\r\nimport Details from './Details'\r\nimport '../css/Booking.css';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nclass Booking extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    props.booking.start_date = new Date(props.booking.start_date);\r\n    this.state = {\r\n      showDetails: false,\r\n      detailsLoaded: false,\r\n      detailsLoading: false,\r\n      details: null\r\n    }\r\n    this.buttonHandler = this.buttonHandler.bind(this)\r\n    this.loadDetails = this.loadDetails.bind(this)\r\n  }\r\n\r\n  buttonHandler = () => {\r\n    this.setState(prevState => ({\r\n      showDetails: !prevState.showDetails\r\n    }))\r\n    this.loadDetails();\r\n  }\r\n\r\n  loadDetails() {\r\n    if (this.state.detailsLoaded) {\r\n      return;\r\n    }\r\n    this.setState({\r\n      detailsLoading: true\r\n    });\r\n    //console.log(this.props.booking.type)\r\n    fetch(`http://localhost:3004/${this.props.booking.type}/${this.props.booking.item_id}`)\r\n      .then(response => response.json())\r\n      .then(data => this.setState({ details: data }))\r\n      .then(() => this.setState({ detailsLoading: false, detailsLoaded: true }));\r\n  }\r\n\r\n  render() {\r\n    const { booking } = this.props\r\n\r\n    // const myButton = (\r\n    //   <button onClick={this.buttonHandler}>XD</button>\r\n    // )\r\n\r\n    const preDetails = (\r\n      this.state.detailsLoading\r\n        ? <div style={{ margin: \"1%\" }}><div className=\"spinner-border text-dark\"></div></div>\r\n        : <Details data={this.state.details} itemType={booking.type} />\r\n    )\r\n\r\n    return (\r\n      <div className=\"card cardxd bg-light text-dark\">\r\n        <div className=\"card-header cardClickable\" onClick={this.buttonHandler}>\r\n          <div className=\"row\">\r\n            <div className=\"col-md-6\">\r\n              <div className=\"row\">\r\n                <div className=\"col-md-3 text-left\">\r\n                  {booking.id}\r\n                </div>\r\n                <div className=\"col-md-3 text-left\">\r\n                  {booking.owner}\r\n                </div>\r\n                <div className=\"col-md-3 text-left\">\r\n                  {booking.username}\r\n                </div>\r\n                <div className=\"col-md-3 text-left\">\r\n                  {booking.itemId}\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-md-6\">\r\n              <div className=\"row\">\r\n                <div className=\"col-md-3 text-left\">\r\n                  {booking.itemType}\r\n                </div>\r\n                <div className=\"col-md-3 text-left\">\r\n                  {booking.details}\r\n                </div>\r\n                <div className=\"col-md-3 text-left\">\r\n                  {booking.active.toString()}\r\n                </div>\r\n                <div className=\"col-md-3 text-left\">\r\n                  {booking.startDateTime.getDate()} \r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        {this.state.showDetails && preDetails}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(Booking)\r\n\r\n// {this.element(booking.booking_id)}\r\n// {this.element(booking.user_id)}\r\n// {this.element(booking.username)}\r\n// {this.element(booking.item_id)}\r\n// {this.element(booking.type)}\r\n// {this.element(booking.item_info)}\r\n// {this.element(booking.active.toString())}\r\n// {this.element(`${booking.start_date.getDate()} \r\n//   ${booking.start_date.getMonth() + 1} ${booking.start_date.getFullYear()}`)}"]},"metadata":{},"sourceType":"module"}