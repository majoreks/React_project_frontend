{"ast":null,"code":"var _jsxFileName = \"C:\\\\Studia\\\\React\\\\XD\\\\React_Project\\\\src\\\\js\\\\Booking.js\";\nimport React from 'react';\nimport { withRouter } from \"react-router-dom\";\nimport Details from './Details';\nimport '../css/Booking.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nclass Booking extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.element = value => {\n      return React.createElement(\"div\", {\n        className: \"Element\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 23\n        },\n        __self: this\n      }, React.createElement(\"text\", {\n        style: {\n          marginLeft: \"1%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 24\n        },\n        __self: this\n      }, value));\n    };\n\n    this.buttonHandler = () => {\n      this.setState(prevState => ({\n        showDetails: !prevState.showDetails\n      }));\n      this.loadDetails();\n    };\n\n    props.booking.start_date = new Date(props.booking.start_date);\n    this.state = {\n      showDetails: false,\n      detailsLoaded: false,\n      detailsLoading: false,\n      details: null\n    };\n    this.buttonHandler = this.buttonHandler.bind(this);\n    this.loadDetails = this.loadDetails.bind(this);\n  }\n\n  loadDetails() {\n    if (this.state.detailsLoaded) {\n      return;\n    }\n\n    this.setState({\n      detailsLoading: true\n    }); //console.log(this.props.booking.type)\n\n    fetch(`http://localhost:3004/${this.props.booking.type}/${this.props.booking.item_id}`).then(response => response.json()).then(data => this.setState({\n      details: data\n    })).then(() => this.setState({\n      detailsLoading: false,\n      detailsLoaded: true\n    }));\n  }\n\n  render() {\n    const booking = this.props.booking; // const myButton = (\n    //   <button onClick={this.buttonHandler}>XD</button>\n    // )\n\n    const preDetails = this.state.detailsLoading ? React.createElement(\"div\", {\n      style: {\n        marginTop: \"0.5%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, \"Loading details...\") : React.createElement(Details, {\n      data: this.state.details,\n      itemType: booking.type,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    });\n    return React.createElement(\"div\", {\n      className: \"card\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card-body\",\n      onClick: this.buttonHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"col-md-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"col-md-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, \"5\"), React.createElement(\"div\", {\n      class: \"col-md-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, \"6\"), React.createElement(\"div\", {\n      class: \"col-md-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, \"7\"), React.createElement(\"div\", {\n      class: \"col-md-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, \"8\"))), React.createElement(\"div\", {\n      class: \"col-md-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"col-md-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, \"5\"), React.createElement(\"div\", {\n      class: \"col-md-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, \"6\"), React.createElement(\"div\", {\n      class: \"col-md-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, \"7\"), React.createElement(\"div\", {\n      class: \"col-md-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, \"8\"))))), this.state.showDetails && preDetails);\n  }\n\n}\n\nexport default withRouter(Booking); // {this.element(booking.booking_id)}\n// {this.element(booking.user_id)}\n// {this.element(booking.username)}\n// {this.element(booking.item_id)}\n// {this.element(booking.type)}\n// {this.element(booking.item_info)}\n// {this.element(booking.active.toString())}\n// {this.element(`${booking.start_date.getDate()} \n//   ${booking.start_date.getMonth() + 1} ${booking.start_date.getFullYear()}`)}","map":{"version":3,"sources":["C:/Studia/React/XD/React_Project/src/js/Booking.js"],"names":["React","withRouter","Details","Booking","Component","constructor","props","element","value","marginLeft","buttonHandler","setState","prevState","showDetails","loadDetails","booking","start_date","Date","state","detailsLoaded","detailsLoading","details","bind","fetch","type","item_id","then","response","json","data","render","preDetails","marginTop"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { withRouter } from \"react-router-dom\";\r\nimport Details from './Details'\r\nimport '../css/Booking.css';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nclass Booking extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    props.booking.start_date = new Date(props.booking.start_date);\r\n    this.state = {\r\n      showDetails: false,\r\n      detailsLoaded: false,\r\n      detailsLoading: false,\r\n      details: null\r\n    }\r\n    this.buttonHandler = this.buttonHandler.bind(this)\r\n    this.loadDetails = this.loadDetails.bind(this)\r\n  }\r\n\r\n  element = (value) => {\r\n    return (\r\n      <div className=\"Element\">\r\n        <text style={{ marginLeft: \"1%\" }}>{value}</text>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  buttonHandler = () => {\r\n    this.setState(prevState => ({\r\n      showDetails: !prevState.showDetails\r\n    }))\r\n    this.loadDetails();\r\n  }\r\n\r\n  loadDetails() {\r\n    if (this.state.detailsLoaded) {\r\n      return;\r\n    }\r\n    this.setState({\r\n      detailsLoading: true\r\n    });\r\n    //console.log(this.props.booking.type)\r\n    fetch(`http://localhost:3004/${this.props.booking.type}/${this.props.booking.item_id}`)\r\n      .then(response => response.json())\r\n      .then(data => this.setState({ details: data }))\r\n      .then(() => this.setState({ detailsLoading: false, detailsLoaded: true }));\r\n  }\r\n\r\n  render() {\r\n    const { booking } = this.props\r\n\r\n    // const myButton = (\r\n    //   <button onClick={this.buttonHandler}>XD</button>\r\n    // )\r\n\r\n    const preDetails = (\r\n      this.state.detailsLoading ? <div style={{ marginTop: \"0.5%\" }}>Loading details...</div> : <Details data={this.state.details} itemType={booking.type} />\r\n    )\r\n\r\n    return (\r\n      <div className=\"card\">\r\n        <div className=\"card-body\" onClick={this.buttonHandler}>\r\n          <div class=\"row\">\r\n            <div class=\"col-md-6\">\r\n              <div className=\"row\">\r\n                <div class=\"col-md-3\">5</div>\r\n                <div class=\"col-md-3\">6</div>\r\n                <div class=\"col-md-3\">7</div>\r\n                <div class=\"col-md-3\">8</div>\r\n              </div>\r\n\r\n            </div>\r\n            <div class=\"col-md-6\">\r\n              <div className=\"row\">\r\n                <div class=\"col-md-3\">5</div>\r\n                <div class=\"col-md-3\">6</div>\r\n                <div class=\"col-md-3\">7</div>\r\n                <div class=\"col-md-3\">8</div>\r\n              </div>\r\n\r\n            </div>\r\n          </div>\r\n        </div>\r\n        {this.state.showDetails && preDetails}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(Booking)\r\n\r\n// {this.element(booking.booking_id)}\r\n// {this.element(booking.user_id)}\r\n// {this.element(booking.username)}\r\n// {this.element(booking.item_id)}\r\n// {this.element(booking.type)}\r\n// {this.element(booking.item_info)}\r\n// {this.element(booking.active.toString())}\r\n// {this.element(`${booking.start_date.getDate()} \r\n//   ${booking.start_date.getMonth() + 1} ${booking.start_date.getFullYear()}`)}"]},"metadata":{},"sourceType":"module"}